<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#6366F1">
<link rel="manifest" href="manifest.json">
<link rel="icon" type="image/png" sizes="192x192" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='20' fill='%236366F1'/%3E%3Ctext x='50' y='70' text-anchor='middle' font-size='60' fill='white'%3EğŸ’°%3C/text%3E%3C/svg%3E">
<link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='20' fill='%236366F1'/%3E%3Ctext x='50' y='70' text-anchor='middle' font-size='60' fill='white'%3EğŸ’°%3C/text%3E%3C/svg%3E">
<title>ğŸ’° ParaÄ°zi</title>
<style>
body{font-family:system-ui,sans-serif;margin:0;background:#f1f5f9;user-select:none;-webkit-user-select:none;-webkit-touch-callout:none}
.header{background:linear-gradient(135deg,#6366F1,#4F46E5);color:white;padding:30px 20px;text-align:center}
.logo{font-size:28px;font-weight:bold;margin-bottom:10px}
.balance{font-size:36px;font-weight:bold;margin:15px 0}
.stats{display:flex;gap:20px;justify-content:center;margin-top:15px}
.stat-label{font-size:12px;opacity:0.9}
.stat-value{font-size:18px;font-weight:600;margin-top:5px}
.income{color:#10B981}
.expense{color:#EF4444}
.content{padding:20px;max-width:600px;margin:0 auto;padding-bottom:80px}
.card{background:white;padding:20px;border-radius:12px;margin:15px 0;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
.btn{width:100%;padding:15px;border:none;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;margin:10px 0}
.btn-income{background:#10B981;color:white}
.btn-expense{background:#EF4444;color:white}
input,select{width:100%;padding:12px;margin:8px 0;border:2px solid #e2e8f0;border-radius:8px;font-size:15px}
label{font-weight:600;display:block;margin-top:12px}
.transaction{background:#f8f9fa;padding:15px;border-radius:8px;margin:10px 0;display:flex;justify-content:space-between;align-items:center}
.transaction-amount{font-weight:bold;font-size:16px}
.bottom-nav{position:fixed;bottom:0;left:0;right:0;background:white;display:flex;border-top:1px solid #e2e8f0;padding:10px 0;z-index:100}
.nav-item{flex:1;text-align:center;padding:8px;color:#64748B;font-size:12px;font-weight:600;cursor:pointer}
.nav-item.active{color:#6366F1}
.screen{display:none}
.screen.active{display:block}
</style>
</head>
<body>

<div id="homeScreen" class="screen active">
<div class="header">
  <div class="logo">ğŸ’° ParaÄ°zi</div>
  <div class="balance" id="balance">â‚º0</div>
  <div class="stats">
    <div><div class="stat-label">Gelir</div><div class="stat-value income" id="income">â‚º0</div></div>
    <div><div class="stat-label">Gider</div><div class="stat-value expense" id="expense">â‚º0</div></div>
  </div>
</div>

<div class="content">
  <div class="card">
    <h2>Yeni Ä°ÅŸlem Ekle</h2>
    <label>Tip</label>
    <select id="type" onchange="updateCategories()">
      <option value="income">Gelir</option>
      <option value="expense">Gider</option>
    </select>
    <label>AÃ§Ä±klama</label>
    <input type="text" id="desc" placeholder="Ã–rn: MaaÅŸ">
    <label>Kategori</label>
    <select id="category">
      <option>MaaÅŸ</option>
      <option>Freelance</option>
    </select>
    <label>Tutar (â‚º)</label>
    <input type="number" id="amount" placeholder="0">
    <button class="btn btn-income" onclick="add()">Ekle</button>
  </div>

  <div class="card">
    <h2>Son Ä°ÅŸlemler</h2>
    <div id="list"></div>
  </div>
</div>
</div>

<div id="statsScreen" class="screen">
<div class="header">
  <div class="logo">ğŸ“Š Ä°statistikler</div>
</div>
<div class="content">
  <div class="card">
    <h2>Ã–zet</h2>
    <p>Toplam iÅŸlem: <strong id="totalCount">0</strong></p>
    <p>Ortalama gider: <strong id="avgExpense">â‚º0</strong></p>
  </div>
</div>
</div>

<div class="bottom-nav">
  <div class="nav-item active" onclick="showScreen('homeScreen')">ğŸ <br>Ana Sayfa</div>
  <div class="nav-item" onclick="showScreen('statsScreen')">ğŸ“Š<br>Ä°statistik</div>
</div>

<script>
let data=JSON.parse(localStorage.getItem('paraizi')||'[]');
function showScreen(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));
  event.target.closest('.nav-item').classList.add('active');
}
function updateCategories(){
  let t=document.getElementById('type').value;
  document.getElementById('category').innerHTML=t=='income'?'<option>MaaÅŸ</option><option>Freelance</option>':'<option>Market</option><option>UlaÅŸÄ±m</option><option>Faturalar</option>';
}
function add(){
  let t=document.getElementById('type').value;
  let d=document.getElementById('desc').value;
  let c=document.getElementById('category').value;
  let a=parseFloat(document.getElementById('amount').value);
  if(!d||!a){alert('LÃ¼tfen tÃ¼m alanlarÄ± doldurun');return}
  data.unshift({type:t,desc:d,cat:c,amount:a,date:new Date().toLocaleDateString('tr')});
  localStorage.setItem('paraizi',JSON.stringify(data));
  render();
  document.getElementById('desc').value='';
  document.getElementById('amount').value='';
}
function render(){
  let inc=data.filter(x=>x.type=='income').reduce((s,x)=>s+x.amount,0);
  let exp=data.filter(x=>x.type=='expense').reduce((s,x)=>s+x.amount,0);
  document.getElementById('income').textContent='â‚º'+inc.toLocaleString('tr');
  document.getElementById('expense').textContent='â‚º'+exp.toLocaleString('tr');
  document.getElementById('balance').textContent='â‚º'+(inc-exp).toLocaleString('tr');
  document.getElementById('list').innerHTML=data.slice(0,10).map(x=>`
    <div class="transaction">
      <div><strong>${x.desc}</strong><br><small>${x.cat} â€¢ ${x.date}</small></div>
      <div class="transaction-amount ${x.type}">${x.type=='income'?'+':'-'}â‚º${x.amount.toLocaleString('tr')}</div>
    </div>
  `).join('')||'<p style="text-align:center;color:#888">HenÃ¼z iÅŸlem yok</p>';
  
  let expenses=data.filter(x=>x.type=='expense');
  document.getElementById('totalCount').textContent=data.length;
  document.getElementById('avgExpense').textContent='â‚º'+(expenses.length?Math.round(expenses.reduce((s,x)=>s+x.amount,0)/expenses.length):0).toLocaleString('tr');
}
if(data.length==0){
  data=[{type:'income',desc:'AylÄ±k MaaÅŸ',cat:'MaaÅŸ',amount:45000,date:'1 Oca 2026'}];
  localStorage.setItem('paraizi',JSON.stringify(data));
}
render();

if('serviceWorker' in navigator){
  navigator.serviceWorker.register('sw.js').catch(()=>{});
}
</script>
</body>
</html>
